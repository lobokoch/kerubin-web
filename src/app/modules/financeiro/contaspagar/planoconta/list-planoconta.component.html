<!--
**********************************************************************************************
Code generated with MKL Plug-in version: 60.0.6
Copyright: Kerubin - kerubin.platform@gmail.com

WARNING: DO NOT CHANGE THIS CODE BECAUSE THE CHANGES WILL BE LOST IN THE NEXT CODE GENERATION.
***********************************************************************************************
-->

<div class="container">
	<p-panel>
		<p-header>
			<div class="kb-form-panel-header">{{ getTranslation('financeiro.contas_pagar.planoConta') }}</div>
		</p-header>
	

  	<div class="ui-g">
		
		<!-- Begin Filters -->
		<p-accordion class="ui-g-12">
			<p-accordionTab header="Filtros">
			
				<div class="ui-g">
					<div class="ui-g-12">
						
						<div class="ui-g-12 ui-md-12 ui-fluid">
							<label class="label-r">Códigos</label>
							<p-autoComplete name="planoContaCodigoAutoComplete" 
							placeholder="Digite para pesquisar..." [dropdown]="true" 
							[(ngModel)]="planoContaListFilter.codigo" [multiple]="true"
							[suggestions]="planoContaCodigoAutoCompleteSuggestions"
							(completeMethod)="planoContaCodigoAutoComplete($event)"
							field="codigo"></p-autoComplete>
						</div>
						
						<div class="ui-g-12 ui-md-12 ui-fluid">
							<label class="label-r">Descrições</label>
							<p-autoComplete name="planoContaDescricaoAutoComplete" 
							placeholder="Digite para pesquisar..." [dropdown]="true" 
							[(ngModel)]="planoContaListFilter.descricao" [multiple]="true"
							[suggestions]="planoContaDescricaoAutoCompleteSuggestions"
							(completeMethod)="planoContaDescricaoAutoComplete($event)"
							field="descricao"></p-autoComplete>
						</div>
						
						
						<div class="ui-g-12 ui-md-12 ui-fluid">
							<label style="display: block" class="label-l label-r">Ativo</label>
							<p-inputSwitch [(ngModel)]="planoContaListFilter.ativoIsNotNull"></p-inputSwitch>
						</div>
						
						
						<div class="ui-g-12 ui-md-12 ui-fluid">
							<label style="display: block" class="label-l label-r">Inativo</label>
							<p-inputSwitch [(ngModel)]="planoContaListFilter.ativoIsNull"></p-inputSwitch>
						</div>
						
					</div>
					
					<div>
						<p-button label="Aplicar os filtros e pesquisar" icon="pi pi-search" iconPos="left" (click)="planoContaFilterSearch()"></p-button>
					</div>
				</div>
				
			
			</p-accordionTab>
		</p-accordion>
		<!-- End Filters -->
		
		<!-- Begin GRID -->
		<div class="ui-g-12" name="data-grid">
			<p-table selectionMode="single" [loading]="tableLoading" 
				[responsive]="true" sortMode="multiple" [paginator]="true" [resizableColumns]="true"
				[value]="planoContaListItems"
			    [rows]="planoContaListFilter.pageSize" 
			    [totalRecords]="planoContaListTotalElements"
			    [lazy]="true" (onLazyLoad)="planoContaListOnLazyLoad($event)" >
			    <ng-template pTemplate="header">
		            <tr>
		            	<th [pSortableColumn]="'codigo'">{{ getTranslation('financeiro.contas_pagar.planoConta_codigo_grid') }}<p-sortIcon [field]="'codigo'"></p-sortIcon></th>
		            	<th [pSortableColumn]="'descricao'">{{ getTranslation('financeiro.contas_pagar.planoConta_descricao_grid') }}<p-sortIcon [field]="'descricao'"></p-sortIcon></th>
		            	<th [pSortableColumn]="'tipoFinanceiro'">{{ getTranslation('financeiro.contas_pagar.planoConta_tipoFinanceiro_grid') }}<p-sortIcon [field]="'tipoFinanceiro'"></p-sortIcon></th>
		            	<th [pSortableColumn]="'tipoReceitaDespesa'">{{ getTranslation('financeiro.contas_pagar.planoConta_tipoReceitaDespesa_grid') }}<p-sortIcon [field]="'tipoReceitaDespesa'"></p-sortIcon></th>
		            	<th [pSortableColumn]="'planoContaPai'">{{ getTranslation('financeiro.contas_pagar.planoConta_planoContaPai_grid') }}<p-sortIcon [field]="'planoContaPai'"></p-sortIcon></th>
		            	<th [pSortableColumn]="'ativo'">{{ getTranslation('financeiro.contas_pagar.planoConta_ativo_grid') }}<p-sortIcon [field]="'ativo'"></p-sortIcon></th>
		            	<th [pSortableColumn]="'deleted'">{{ getTranslation('financeiro.contas_pagar.planoConta_deleted_grid') }}<p-sortIcon [field]="'deleted'"></p-sortIcon></th>
						<th style="width: 12em">Ações</th>
		            </tr>
		        </ng-template>
		        
			    <ng-template pTemplate="body" let-planoConta>
		            <tr [pSelectableRow]="planoConta">
		            	<td>
		            		{{ planoConta?.codigo }}
		            	</td>
		            	<td>
		            		{{ planoConta?.descricao }}
		            	</td>
		            	<td>
		            		{{ getTranslation('financeiro.contas_pagar.planoConta_tipoFinanceiro' + '_' + planoConta?.tipoFinanceiro?.toLowerCase()) }}
		            	</td>
		            	<td>
		            		{{ getTranslation('financeiro.contas_pagar.planoConta_tipoReceitaDespesa' + '_' + planoConta?.tipoReceitaDespesa?.toLowerCase()) }}
		            	</td>
		            	<td>
		            		{{planoContaPlanoContaPaiAutoCompleteFieldConverter(planoConta?.planoContaPai)}}
		            	</td>
		            	<td>
		            		{{planoConta?.ativo? 'Sim': 'Não' }}
		            	</td>
		            	<td>
		            		{{planoConta?.deleted? 'Sim': 'Não' }}
		            	</td>
		              	<td class="kb-actions">
		              		<a pButton [routerLink]="['/planoconta', planoConta.id]" icon="pi pi-pencil" pTooltip="Editar" tooltipPosition="top"></a>
		              		<button (click)="deletePlanoConta(planoConta)" pButton icon="pi pi-trash"  pTooltip="Excluir" tooltipPosition="top"></button>
		              	</td>
		            </tr>
		        </ng-template>
		        
		        
		        <ng-template pTemplate="emptymessage" let-columns>
				    <tr>
				        <td [attr.colspan]="8">
				            Nenhum registro encontrado.
				        </td>
				    </tr>
				</ng-template>
				
			</p-table>
		</div>
		<!-- End GRID -->
		
		<div class="ui-g-12 ui-md-2 ui-fluid">
			<a routerLink="/planoconta/novo" pButton label="Novo registro"></a>
		</div>
	</div>
	
	</p-panel>
  
</div>
